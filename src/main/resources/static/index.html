<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Trading App</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>
      $(document).ready(function() {
          fetchData();
          setInterval(fetchData, 60000);
      });

      function fetchData() {
          $.ajax({
              url: "http://localhost:8080/api/cryptos", // Replace with actual endpoint URL
              dataType: "json",
              success: function(data) {
                  // Clear any existing content
                  $("#crypto-data").empty();

                  // Loop through each cryptocurrency in the data
                  $.each(data, function(index, crypto) {
                      var name = crypto.name;
                      var price = crypto.priceUSD; // Assuming price exists

                      // Create a new element for each crypto
                      var cryptoDiv = $("<div class='crypto-item'></div>");
                      cryptoDiv.append("<h2>" + name + "</h2>");
                      cryptoDiv.append("<p>Price: $" + price + "</p>");

                      // Add the new element to the container
                      $("#crypto-data").append(cryptoDiv);
                  });
              },
              error: function(jqXHR, textStatus, errorThrown) {
                  console.error("Error fetching data:", textStatus, errorThrown);
              }
          });
      }
  </script>
</head>
<body>

<h1>UVOD</h1>
<div id="crypto-data"></div>

</body>
</html>